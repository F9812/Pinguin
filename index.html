<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Энергосфера | Кликер MMO</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="game-container">
        <!-- Верхняя панель -->
        <header class="game-header">
            <div class="player-info">
                <div class="avatar" id="playerAvatar">
                    <i class="fas fa-user-astronaut"></i>
                </div>
                <div class="stats">
                    <div class="stat">
                        <span class="label"><i class="fas fa-bolt"></i> Энергия:</span>
                        <span class="value" id="energyValue">0</span>
                    </div>
                    <div class="stat">
                        <span class="label"><i class="fas fa-atom"></i> Квантовые очки:</span>
                        <span class="value" id="quantumValue">0</span>
                    </div>
                    <div class="stat">
                        <span class="label"><i class="fas fa-clock"></i> Сессия:</span>
                        <span class="value" id="sessionValue">00:00</span>
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button class="btn btn-small" id="saveBtn" title="Сохранить">
                    <i class="fas fa-save"></i>
                </button>
                <button class="btn btn-small" id="settingsBtn" title="Настройки">
                    <i class="fas fa-cog"></i>
                </button>
                <button class="btn btn-small" id="socialBtn" title="Социальное">
                    <i class="fas fa-users"></i>
                </button>
            </div>
        </header>

        <!-- Основной игровой экран -->
        <main class="game-main">
            <!-- Центральный кристалл -->
            <div class="crystal-section">
                <div class="crystal-container">
                    <div class="crystal" id="mainCrystal">
                        <div class="crystal-core">
                            <div class="glow"></div>
                        </div>
                        <div class="particles" id="particles"></div>
                    </div>
                    <div class="click-info">
                        <div class="click-power">
                            <i class="fas fa-mouse-pointer"></i>
                            <span id="clickPower">1</span> энергии за клик
                        </div>
                        <div class="clicks-total">
                            Кликов: <span id="totalClicks">0</span>
                        </div>
                    </div>
                </div>
                
                <!-- Кнопка перерождения -->
                <div class="rebirth-section">
                    <button class="btn rebirth-btn" id="rebirthBtn" disabled>
                        <i class="fas fa-infinity"></i>
                        <span>Квантовый Скачок</span>
                        <div class="rebirth-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="rebirthProgress"></div>
                            </div>
                            <span class="progress-text" id="rebirthText">0/4ч</span>
                        </div>
                    </button>
                </div>
            </div>

            <!-- Панель генераторов -->
            <div class="generators-section">
                <h3><i class="fas fa-industry"></i> Генераторы энергии</h3>
                <div class="generators-list" id="generatorsList">
                    <!-- Генераторы загружаются через JS -->
                </div>
            </div>

            <!-- Правая панель: события и чат -->
            <div class="side-panel">
                <!-- События -->
                <div class="events-widget">
                    <h3><i class="fas fa-calendar-alt"></i> Активные события</h3>
                    <div class="events-list" id="eventsList">
                        <div class="event-item">
                            <i class="fas fa-bolt"></i>
                            <span>Нет активных событий</span>
                        </div>
                    </div>
                </div>

                <!-- Чат -->
                <div class="chat-widget">
                    <h3><i class="fas fa-comments"></i> Глобальный чат</h3>
                    <div class="chat-messages" id="chatMessages">
                        <div class="message system">
                            Добро пожаловать в Энергосферу!
                        </div>
                    </div>
                    <div class="chat-input">
                        <input type="text" id="chatInput" placeholder="Введите сообщение...">
                        <button class="btn btn-small" id="sendChat">
                            <i class="fas fa-paper-plane"></i>
                        </button>
                    </div>
                </div>

                <!-- Онлайн игроки -->
                <div class="online-widget">
                    <h3><i class="fas fa-globe"></i> Онлайн (<span id="onlineCount">1</span>)</h3>
                    <div class="online-list" id="onlineList">
                        <div class="online-player">
                            <span class="player-name">Вы</span>
                            <span class="player-energy">0 ⚡</span>
                        </div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Нижняя панель улучшений -->
        <footer class="game-footer">
            <div class="tabs">
                <button class="tab-btn active" data-tab="upgrades">
                    <i class="fas fa-level-up-alt"></i> Улучшения
                </button>
                <button class="tab-btn" data-tab="guild">
                    <i class="fas fa-users"></i> Гильдия
                </button>
                <button class="tab-btn" data-tab="market">
                    <i class="fas fa-shopping-cart"></i> Рынок
                </button>
                <button class="tab-btn" data-tab="stats">
                    <i class="fas fa-chart-bar"></i> Статистика
                </button>
            </div>
            
            <div class="tab-content">
                <div class="tab-pane active" id="upgradesTab">
                    <div class="upgrades-grid" id="upgradesGrid">
                        <!-- Улучшения загружаются через JS -->
                    </div>
                </div>
                
                <div class="tab-pane" id="guildTab">
                    <div class="guild-panel">
                        <h4>Гильдия не найдена</h4>
                        <p>Вступите в гильдию или создайте свою!</p>
                        <button class="btn" id="createGuildBtn">Создать гильдию</button>
                        <button class="btn" id="joinGuildBtn">Найти гильдию</button>
                    </div>
                </div>
                
                <div class="tab-pane" id="marketTab">
                    <div class="market-panel">
                        <h4>Рынок Энергосферы</h4>
                        <p>Торгуйте с другими игроками!</p>
                        <div class="market-items" id="marketItems">
                            <!-- Товары загружаются через JS -->
                        </div>
                    </div>
                </div>
                
                <div class="tab-pane" id="statsTab">
                    <div class="stats-panel">
                        <h4>Ваша статистика</h4>
                        <div class="stats-grid" id="statsGrid">
                            <!-- Статистика загружается через JS -->
                        </div>
                    </div>
                </div>
            </div>
        </footer>

        <!-- Модальные окна -->
        <div class="modal" id="loginModal">
            <div class="modal-content">
                <h2>Добро пожаловать в Энергосферу!</h2>
                <div class="login-form">
                    <input type="text" id="usernameInput" placeholder="Имя игрока" maxlength="20">
                    <button class="btn btn-large" id="startGameBtn">Начать игру</button>
                    <p class="note">Игра автоматически сохраняется в вашем браузере</p>
                </div>
            </div>
        </div>
        
        <div class="modal" id="eventModal" style="display: none;">
            <div class="modal-content">
                <h2 id="eventTitle">Событие!</h2>
                <p id="eventDescription"></p>
                <div class="event-timer" id="eventTimer"></div>
                <button class="btn" id="eventActionBtn">Участвовать</button>
            </div>
        </div>

        <!-- Уведомления -->
        <div class="notifications" id="notifications"></div>
    </div>

    <!-- Подключаем Socket.io -->
    <script src="/socket.io/socket.io.js"></script>
    <script src="game.js"></script>
</body>
</html>
